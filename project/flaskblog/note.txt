from flaskblog import app, db
from flaskblog.models import User, Post

app.app_context().push()
db.create_all()

with app.app_context():
    user = User.query.all()

print(user)


user_1 = User(username="Corey", email="C@demo.com", password="passwordc")
db.session.add(user_1)

user_2 = User(username="Nguyen", email="N@demo.com", password="passwordn")
db.session.add(user_2)

user_3 = User(username="Kim", email="K@demo.com", password="passwordk")
db.session.add(user_3)

db.session.commit()

User.query.all()

post_1 = Post(title="Blog 1", content="First Post", user_id=user.id)
post_2 = Post(title="Blog 2", content="Second Post", user_id=user.id)
db.session.add(post_1)
db.session.add(post_2)
db.session.commit()

post = Post.query.first()
post.user_id
post.author

db.drop_all()